From 86d70b3fe8f906308fe8d3191fcbb50f3289be54 Mon Sep 17 00:00:00 2001
From: NHellFire <nathan.renniewaldock@gmail.com>
Date: Sun, 28 May 2017 21:04:42 +0100
Subject: [PATCH] Remove crashlytics

---
 app/build.gradle                                   |  3 ---
 .../kerneladiutor/activities/MainActivity.java     | 25 ----------------------
 .../kerneladiutor/activities/StartActivity.java    |  6 ------
 .../fragments/other/AboutFragment.java             |  1 -
 4 files changed, 35 deletions(-)

diff --git a/app/build.gradle b/app/build.gradle
index cdac1b06..8b1ed257 100755
--- a/app/build.gradle
+++ b/app/build.gradle
@@ -44,9 +44,6 @@ dependencies {
     compile('com.github.ozodrukh:CircularReveal:1.3.1@aar') {
         transitive = true;
     }
-    compile('com.crashlytics.sdk.android:crashlytics:2.6.1@aar') {
-        transitive = true;
-    }
     compile 'com.android.support:appcompat-v7:25.3.1'
     compile 'com.android.support:cardview-v7:25.3.1'
     compile 'com.android.support:design:25.3.1'
diff --git a/app/src/main/java/com/grarak/kerneladiutor/activities/MainActivity.java b/app/src/main/java/com/grarak/kerneladiutor/activities/MainActivity.java
index ef902963..7d560f91 100755
--- a/app/src/main/java/com/grarak/kerneladiutor/activities/MainActivity.java
+++ b/app/src/main/java/com/grarak/kerneladiutor/activities/MainActivity.java
@@ -32,9 +32,6 @@ import android.support.v4.content.ContextCompat;
 import android.view.View;
 import android.widget.TextView;
 
-import com.crashlytics.android.Crashlytics;
-import com.crashlytics.android.answers.Answers;
-import com.crashlytics.android.answers.CustomEvent;
 import com.grarak.kerneladiutor.BuildConfig;
 import com.grarak.kerneladiutor.R;
 import com.grarak.kerneladiutor.database.tools.profiles.Profiles;
@@ -65,8 +62,6 @@ import java.io.IOException;
 import java.net.HttpURLConnection;
 import java.net.URL;
 
-import io.fabric.sdk.android.Fabric;
-
 /**
  * Created by willi on 14.04.16.
  */
@@ -80,11 +75,6 @@ public class MainActivity extends BaseActivity {
     protected void onCreate(@Nullable Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
 
-        // Don't initialize analytics with debug build
-        if (!BuildConfig.DEBUG) {
-            Fabric.with(this, new Crashlytics());
-        }
-
         setContentView(R.layout.activity_main);
 
         View splashBackground = findViewById(R.id.splash_background);
@@ -231,12 +221,6 @@ public class MainActivity extends BaseActivity {
             Vibration.supported();
             Voltage.supported();
             Wake.supported();
-
-            if (!BuildConfig.DEBUG) {
-                // Send SoC type to analytics to collect stats
-                Answers.getInstance().logCustom(new CustomEvent("SoC")
-                        .putCustomAttribute("type", Device.getBoard()));
-            }
         }
 
         /**
@@ -285,11 +269,6 @@ public class MainActivity extends BaseActivity {
                 startActivity(intent);
                 finish();
 
-                if (!BuildConfig.DEBUG) {
-                    // Send problem to analytics to collect stats
-                    Answers.getInstance().logCustom(new CustomEvent("Can't access")
-                            .putCustomAttribute("no_found", mHasRoot ? "no busybox" : "no root"));
-                }
                 return;
             }
 
@@ -368,10 +347,6 @@ public class MainActivity extends BaseActivity {
                     } else if (donationValid) {
                         launch(1);
                     } else {
-                        if (mPatched && !BuildConfig.DEBUG) {
-                            Answers.getInstance().logCustom(new CustomEvent("Pirated")
-                                    .putCustomAttribute("android_id", Utils.getAndroidId(MainActivity.this)));
-                        }
                         launch(mPatched ? 3 : -1);
                     }
                 }
diff --git a/app/src/main/java/com/grarak/kerneladiutor/activities/StartActivity.java b/app/src/main/java/com/grarak/kerneladiutor/activities/StartActivity.java
index e85e714f..acd6c410 100755
--- a/app/src/main/java/com/grarak/kerneladiutor/activities/StartActivity.java
+++ b/app/src/main/java/com/grarak/kerneladiutor/activities/StartActivity.java
@@ -23,11 +23,8 @@ import android.app.Activity;
 import android.content.Intent;
 import android.os.Bundle;
 
-import com.crashlytics.android.Crashlytics;
 import com.grarak.kerneladiutor.BuildConfig;
 
-import io.fabric.sdk.android.Fabric;
-
 /**
  * Created by willi on 02.08.16.
  */
@@ -41,9 +38,6 @@ public class StartActivity extends Activity {
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
-        if (!BuildConfig.DEBUG) {
-            Fabric.with(this, new Crashlytics());
-        }
         Intent intent = new Intent(this, MainActivity.class);
         intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
         startActivity(intent);
diff --git a/app/src/main/java/com/grarak/kerneladiutor/fragments/other/AboutFragment.java b/app/src/main/java/com/grarak/kerneladiutor/fragments/other/AboutFragment.java
index 7c88e41e..9766c054 100755
--- a/app/src/main/java/com/grarak/kerneladiutor/fragments/other/AboutFragment.java
+++ b/app/src/main/java/com/grarak/kerneladiutor/fragments/other/AboutFragment.java
@@ -57,7 +57,6 @@ public class AboutFragment extends RecyclerViewFragment {
         sLibraries.put("Lopez Mikhael,CircularImageView", "https://github.com/lopspower/CircularImageView");
         sLibraries.put("Square,picasso", "https://github.com/square/picasso");
         sLibraries.put("CyanogenMod,CyanogenMod Platform SDK", "https://github.com/CyanogenMod/cm_platform_sdk");
-        sLibraries.put("Fabric,Twitter", "https://get.fabric.io");
     }
 
     @Override
-- 
2.11.0

